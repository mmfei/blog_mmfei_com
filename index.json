[{"content":"hugo 增加mermaid js的支持 mermaidjs是一个优秀的绘图的js库 , 支持流程图 , 时序图 , 类图 , 状态图等功能.\n把它引入到hugo模板 , 写技术方案特别方便.\n步骤  修改模板 head.html (底部追加内容)  \u0026lt;!-- file layouts/partials/head.html --\u0026gt; {{ if .Params.mermaid }} \u0026lt;script src=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.9.3/mermaid.min.js\u0026#34; integrity=\u0026#34;sha512-kxc8+BGu0/ESUMiK6Q/goKwwcoIoFVcXZ4GwMoGupMA/qTGx19BcNn1uiebOZO5f85ZD0oTdvlRKdeNh3RTnVg==\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34; referrerpolicy=\u0026#34;no-referrer\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; // Replace mermaid pre.code to div  Array.from(document.getElementsByClassName(\u0026#34;language-mermaid\u0026#34;)).forEach( (el) =\u0026gt; { el.parentElement.outerHTML = `\u0026lt;div class=\u0026#34;mermaid\u0026#34;\u0026gt;${el.innerText}\u0026lt;/div\u0026gt;`; } ); \u0026lt;/script\u0026gt; \u0026lt;style\u0026gt; /* Set svg to center */ .mermaid svg { display: block; margin: auto; } \u0026lt;/style\u0026gt; {{ end }}  config.yml 文件增加配置  # file config.yml params: mermaid: true ","permalink":"https://www.mmfei.com/post/hugo_support_mermaidjs/","summary":"hugo 增加mermaid js的支持 mermaidjs是一个优秀的绘图的js库 , 支持流程图 , 时序图 , 类图 , 状态图等功能.\n把它引入到hugo模板 , 写技术方案特别方便.\n步骤  修改模板 head.html (底部追加内容)  \u0026lt;!-- file layouts/partials/head.html --\u0026gt; {{ if .Params.mermaid }} \u0026lt;script src=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.9.3/mermaid.min.js\u0026#34; integrity=\u0026#34;sha512-kxc8+BGu0/ESUMiK6Q/goKwwcoIoFVcXZ4GwMoGupMA/qTGx19BcNn1uiebOZO5f85ZD0oTdvlRKdeNh3RTnVg==\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34; referrerpolicy=\u0026#34;no-referrer\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; // Replace mermaid pre.code to div  Array.from(document.getElementsByClassName(\u0026#34;language-mermaid\u0026#34;)).forEach( (el) =\u0026gt; { el.parentElement.outerHTML = `\u0026lt;div class=\u0026#34;mermaid\u0026#34;\u0026gt;${el.innerText}\u0026lt;/div\u0026gt;`; } ); \u0026lt;/script\u0026gt; \u0026lt;style\u0026gt; /* Set svg to center */ .mermaid svg { display: block; margin: auto; } \u0026lt;/style\u0026gt; {{ end }}  config.","title":"Hugo_support_mermaidjs"},{"content":"如何使用hugo快速创建一个github page 创建github项目(私有项目 + 公开项目)  github.com/mmfei/mmfei.github.io.source; # 源项目 主要是用来生成网站项目 , 私有 github.com/mmfei/mmfei.github.io; # 网站项目 用来做 github page 的网站目录  # 安装hugo (mac环境下的安装方式 , 其他环境请看 gohugo.io) brew install hugo; # clone 私有项目 git clone github.com/mmfei/mmfei.github.io.source; cd mmfei.github.io.source; hugo new site .; hugo new post/first.md; # 往里面填充点内容 # 修改文件 config.tom cat config.tom \u0026lt;\u0026lt;EOT theme = \u0026#34;beautifulhugo\u0026#34; EOT # 修改文件 config.toml cat config.toml \u0026lt;\u0026lt;EOT baseURL = \u0026#34;https://mmfei.github.io/\u0026#34; languageCode = \u0026#34;en-us\u0026#34; title = \u0026#34;木木飞\u0026#34; theme = \u0026#34;beautifulhugo\u0026#34; EOT git add *; git commit -m \u0026#34;commit_message\u0026#34;; git push origin master; 创建本人在github的token(作为 GH_TOKEN 的值) https://github.com/settings/tokens\n创建TOKEN (MY_GH_TOKEN) (需要赋予写仓库的权限,这个token是要给mmfei.github.io.source项目生成mmfei.github.io文件用的) https://github.com/mmfei/mmfei.github.io/settings/secrets/actions\n设置page https://github.com/mmfei/mmfei.github.io/settings/pages\n生成部署相关的公私钥 , 用来从 mmfei.github.io.source 发布 内容到 mmfei.github.io ssh-keygen -t rsa -b 4069 -C \u0026#34;abc@abc.com\u0026#34;; # 这里要替换成为你的邮箱地址 , 假设指定生成的文件为 ~/.ssh/id_rs_hugo_deploy.pub , ~/.ssh/id_rs_hugo_deploy ## 下面的 ACTIONS_DEPLOY_KEY 的值 /bin/cat ~/.ssh/id_rs_hugo_deploy.pub; ## 下面的 deploy key 的数值 /bin/cat ~/.ssh/id_rs_hugo_deploy; 设置 mmfei.github.io 项目 https://github.com/mmfei/mmfei.github.io/settings/keys\n 创建一个deploy key (值是上面的 ~/.ssh/id_rs_hugo_deploy 的内容), 需要写入权限 , 目的是给source项目推内容上来用  打开源目录的url,设置 设置 mmfei.github.io.source https://github.com/mmfei/mmfei.github.io.source/settings/secrets/actions 创建两个secret ACTIONS_DEPLOY_KEY 的值为上面生成的pub GH_TOKEN 的值为上面的MY_GH_TOKEN的值\n设置构建脚本 cat \u0026gt;\u0026gt; ./.github/workflows/main.yml \u0026lt;\u0026lt;EOT name: Deploy Hugo Site to Github Pages on Master Branch on: push: branches: - master jobs: build-deploy: runs-on: ubuntu-18.04 steps: - uses: actions/checkout@v1 # v2 does not have submodules option now # with: # submodules: true - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: \u0026#34;0.62.2\u0026#34; # extended: true - name: Build run: | git submodule add https://github.com/halogenica/beautifulhugo.git themes/beautifulhugo hugo --theme=beautifulhugo ls public - name: Deploy uses: peaceiris/actions-gh-pages@v3 with: deploy_key: ${{ secrets.ACTIONS_DEPLOY_KEY }} # 这里的 ACTIONS_DEPLOY_KEY 则是上面设置 Private Key的变量名 github_token: ${{ secrets.GH_TOKEN }} external_repository: mmfei/mmfei.github.io publish_dir: \u0026#34;./public\u0026#34; keep_files: false # remove existing files publish_branch: master # deploying branch commit_message: ${{ github.event.head_commit.message }} user_name: \u0026#34;mmfei\u0026#34; user_email: \u0026#34;abc@abc.com\u0026#34; EOT git add ./.github/workflows/main.yml; git commit -m \u0026#39;add deploy file\u0026#39;; git push origin master; ","permalink":"https://www.mmfei.com/post/create_github_page_with_hugo/","summary":"如何使用hugo快速创建一个github page 创建github项目(私有项目 + 公开项目)  github.com/mmfei/mmfei.github.io.source; # 源项目 主要是用来生成网站项目 , 私有 github.com/mmfei/mmfei.github.io; # 网站项目 用来做 github page 的网站目录  # 安装hugo (mac环境下的安装方式 , 其他环境请看 gohugo.io) brew install hugo; # clone 私有项目 git clone github.com/mmfei/mmfei.github.io.source; cd mmfei.github.io.source; hugo new site .; hugo new post/first.md; # 往里面填充点内容 # 修改文件 config.tom cat config.tom \u0026lt;\u0026lt;EOT theme = \u0026#34;beautifulhugo\u0026#34; EOT # 修改文件 config.toml cat config.toml \u0026lt;\u0026lt;EOT baseURL = \u0026#34;https://mmfei.github.io/\u0026#34; languageCode = \u0026#34;en-us\u0026#34; title = \u0026#34;木木飞\u0026#34; theme = \u0026#34;beautifulhugo\u0026#34; EOT git add *; git commit -m \u0026#34;commit_message\u0026#34;; git push origin master; 创建本人在github的token(作为 GH_TOKEN 的值) https://github.","title":"Create_github_page_with_hugo"},{"content":"一直在广州的互联网老兵\n","permalink":"https://www.mmfei.com/about/","summary":"一直在广州的互联网老兵","title":"About"}]